{
    "type": "object",
    "$schema": "http://json-schema.org/draft-03/schema",
    "id": "https://signalk.github.io/specification/schemas/groups/electrical.json#",
    "description": "Schema describing the electrical child-object of a Vessel.",
    "title": "electrical",
    "properties": {
        "type": "object",
        "title": "battery",
        "description": "a battery, one or many within the vessel"
        },
        "properties": {
            "name": {
                "type": "string",
                "description": "Primary purpose and location of battery (house, starter, starterPort, etc.)"
            },
            "manufactureName": {
                "type": "string",
                "description": "Manufactures name"
            },
            "manufactureModel": {
                "type": "string",
                "description": "Model or Part number(s) of battery"
            },
            "dateInstalled": {
                "type": "date",
                "description": "Date battery was installed"
            },

            "voltage": {
                "type": "object",
                "title": "voltage",
                "properties":  {
                    "measured": {
                        "type": "number",
                        "description": "Measured voltage of battery at battery"
                    },
                    "nominal": {
                        "type": "number",
                        "description": "Designed 'voltage' of battery (12v, 24v, 32v, 48v, 144v)"
                    },
                    "limitUpper": {
                        "type": "number",
                        "description": "Upper operational limit of battery voltage"
                    },
                    "limitLower": {
                        "type": "number",
                        "description": "Lower operational limit of battery voltage"
                    },
                    "faultUpper": {
                        "type": "number",
                        "description": "Upper fault limit of battery voltage - BMS may disconnect battery"
                    },
                    "faultLower": {
                        "type": "number",
                        "description": "Lower fault limit of battery voltage - BMS may disconnect battery"
                    }
                }
            },

            "current": {
                "type": "object",
                "title": "current",
                "properties": {
                    "measured": {
                        "type": "number",
                        "description": "Measured amperage into/out-of battery (+charging, -discharging)"
                    },
                    "limitDischarge": {
                        "type": "number",
                        "description": "Operational current limit for battery discharge"
                    },
                    "limitRecharge": {
                        "type": "number",
                        "description": "Operational current limit for battery recharging"
                    }
                }
            },

            "temperature": {
                "type": "object",
                "title": "temperature",
                "properties": {
                    "measured": {
                        "type": "number",
                        "description": "Temperature of battery, in degrees Celsius"
                    },

                    "limitDischageLower": {
                        "type": "number",
                        "description": "Operational minimum temperature limit for battery discharge, in degrees Celsius"
                    },
                    "limitDischageUpper": {
                        "type": "number",
                        "description": "Operational maximum temperature limit for battery discharge, in degrees Celsius"
                    },
                    "limitRechargeLower": {
                        "type": "number",
                        "description": "Operational minimum temperature limit for battery recharging, in degrees Celsius"
                    },
                    "limitRechargeUpper": {
                        "type": "number",
                        "description": "Operational maximum temperature limit for battery recharging, in degrees Celsius"
                    }
                }
            },


            "mode": {
                "type": "string",
                "description": "Current operational mode of battery",
                "enum": [
                    "unknown/varied",
                    "faulted",
                    "chargingBulk",
                    "chargingAcceptance",
                    "chargingOvercharge",
                    "chargingFloat",
                    "chargingEqualize",
                    "discharging",
                    "disconnnected",
                    "other"
                ]
            },

            "capacity": {
                "type": "object",
                "title": "capacity",
                "properties":{
                    "nominal": {
                        "type": "number",
                        "description": "Designed (specified) Watt-hour capacity of battery"
                    },
                    "actual": {
                        "type": "number",
                        "description": "Current (actual) Watt-hour capacity of battery"
                    },
                    "remaining": {
                        "type": "number",
                        "description": "Watt-hours remaining in battery (StateOfCharge)"
                    },
                    "dischargeLimit": {
                        "type": "number",
                        "description": "Minimum number of Watt-hours to be left in the battery while discharging"
                    }
                }
            },

            "LifetimeDischarge": {
                "type": "number",
                "description": "Cumulative Watt-hours discharged from battery over operational lifetime of battery"
            },
            "LifetimeRecharge": {
                "type": "number",
                "description": "Cumulative Watt-hours recharged into battery over operational lifetime of battery"
            }
        },




    "properties": {
        "type": "object",
        "title": "chargingSource",
        "description": "Any energy source which can be used to recharge a battery: Solar, Alternator, shore power. ."
        },
        "properties": {
            "name": {
                "type": "string",
                "description": "Description and location (alternatorPort, DCGeneator, solar1, inverterCharger, etc.)"
            },
            "manufactureName": {
                "type": "string",
                "description": "Manufactures name"
            },
            "manufactureModel": {
                "type": "string",
                "description": "Model or Part number(s) of battery"
            },
            "dateInstalled": {
                "type": "date",
                "description": "Date battery was installed"
            },

            "associatedBattery": {
                "type": "string",
                "description": "Battery name charger is assocated with"
            },
            "voltageMeasured": {
                "type": "number",
                "description": "Measured voltage at charging source"
            },

            "currentMeasured": {
                "type": "number",
                "description": "Measured amperage being provided by charging source"
            },

            "currentCapacity": {
                "type": "number",
                "description": "Maximum amperage charging source is capable of supplying"
            },

            "mode": {
                "type": "string",
                "description": "Current operational mode of charging source",
                "enum": [
                    "unknown/varied",
                    "faulted",
                    "chargingBulk",
                    "chargingAcceptance",
                    "chargingOvercharge",
                    "chargingFloat",
                    "chargingEqualize",
                    "discharging",
                    "disconnnected",
                    "other"
                ]
            }
        }
}
